<template>
  <view class="flash-container">
    <!-- é¡¶éƒ¨å¹¿å‘Šæ¨ªå¹… -->
    <view class="banner">
      <view class="banner-left">
        <view class="banner-title">
          <text class="title-main">ä¸»ç†äººè„¸</text>
          <text class="title-sub">å¹´åŒ…å·²ä¸Šçº¿</text>
          <view class="banner-eyes">
            <image src="/static/images/venue/eyes.png" mode="widthFix" class="eyes-img"></image>
          </view>
        </view>
        <view class="banner-desc">å‰50åè´­ä¹°å¹´å¡çš„ä¸»ç†äººå¯è·å¾—åœºé¦†èµ 20æ¬¡</view>
      </view>
      <view class="banner-right">
        <view class="right-item">4æ¬¾å¥—é¤ä»»æ‚¨æŒ‘é€‰</view>
        <view class="right-item">ä¸€æ¬¡è´­ä¹°ä¿éšœä¸€å¹´</view>
        <view class="right-item">ä¿±ä¹éƒ¨ä¸“äº«å®šåˆ¶çš®è‚¤</view>
        <view class="right-item">æ›´æœ‰é™å®šçš®è‚¤è§£é”</view>
      </view>
    </view>

    <!-- æœç´¢æ¡† -->
    <view class="search-box">
      <view class="search-input">
        <wd-icon name="search" size="4vm" color="#999"></wd-icon>
        <text class="search-placeholder">æ´»åŠ¨/åœºé¦†åç§°</text>
      </view>
      <view class="search-button">ç‚¹å‡»ä¸‹æ»‘è´­ä¹° >>></view>
      <view class="promote-button">
        <wd-icon name="fire" size="4vm" color="#fff"></wd-icon>
        <text>æˆ‘è¦æ¨å¹¿</text>
      </view>
    </view>

    <!-- è¿åŠ¨åˆ†ç±» -->
    <scroll-view scroll-x class="category-scroll" :show-scrollbar="false">
      <view class="category-list">
        <view class="category-item active">
          <view class="category-icon">ğŸ‘</view>
          <text class="category-text">æ¨è</text>
        </view>
        <view class="category-item">
          <view class="category-icon">ğŸ¸</view>
          <text class="category-text">ç¾½æ¯›çƒ</text>
        </view>
        <view class="category-item">
          <view class="category-icon">ğŸ†</view>
          <text class="category-text">ç”Ÿæ´»</text>
        </view>
        <view class="category-item">
          <view class="category-icon">âš½</view>
          <text class="category-text">è¶³çƒ</text>
        </view>
        <view class="category-item">
          <view class="category-icon">ğŸŠ</view>
          <text class="category-text">é£é•–</text>
        </view>
      </view>
    </scroll-view>

    <!-- æ—¥æœŸé€‰æ‹© -->
    <scroll-view scroll-x class="date-scroll" :show-scrollbar="false">
      <view class="date-list">
        <view class="date-header">
          <text class="date-day">ä»Šæ—¥</text>
          <text class="date-day">å‘¨æ—¥</text>
          <text class="date-day">å‘¨ä¸€</text>
          <text class="date-day">å‘¨äºŒ</text>
          <text class="date-day">å‘¨ä¸‰</text>
          <text class="date-day">å‘¨å››</text>
          <text class="date-day">å‘¨äº”</text>
        </view>
        <view class="date-numbers">
          <view class="date-item active">
            <text>19</text>
          </view>
          <view class="date-item">
            <text>20</text>
          </view>
          <view class="date-item">
            <text>21</text>
          </view>
          <view class="date-item">
            <text>22</text>
          </view>
          <view class="date-item">
            <text>23</text>
          </view>
          <view class="date-item">
            <text>24</text>
          </view>
          <view class="date-item">
            <text>25</text>
          </view>
        </view>
      </view>
    </scroll-view>

    <!-- ç­›é€‰æ¡ä»¶ -->
    <view class="filter-bar">
      <view class="filter-item">
        <text>æ™ºèƒ½æ’åº</text>
        <wd-icon name="arrow-down" size="3vm" color="#666"></wd-icon>
      </view>
      <view class="filter-item">
        <text>å…¨åŸ</text>
        <wd-icon name="arrow-down" size="3vm" color="#666"></wd-icon>
      </view>
    </view>

    <!-- æ´»åŠ¨åˆ—è¡¨ -->
    <view class="activity-list">
      <!-- æ´»åŠ¨é¡¹ç›®1 -->
      <wd-card custom-class="activity-card">
        <view class="activity-item">
          <view class="activity-title">è±ªåŸ4æœˆ19æ—¥æ™šä¸Šç•…æ‰“</view>
          <view class="activity-info">
            <view class="activity-location">
              <wd-icon name="location" size="3.5vm" color="#999"></wd-icon>
              <text>è±ªåŸç¾½æ¯›çƒäº¤æµä¸­å¿ƒ</text>
              <text class="activity-distance">| 3.7km</text>
            </view>
            <view class="activity-time">
              <wd-icon name="clock" size="3.5vm" color="#999"></wd-icon>
              <text>04æœˆ19æ—¥ å‘¨å…­ 19:00-22:00</text>
            </view>
          </view>
          <view class="activity-footer">
            <view class="avatar-list">
              <view class="avatar-item" v-for="n in 5" :key="n">
                <wd-img width="6.5vm" height="6.5vm" round :src="`/static/images/avatar${n}.png`"></wd-img>
              </view>
              <view class="avatar-more">...</view>
            </view>
            <view class="activity-status">
              <view class="status-text">æŠ¥åä¸­ 14/18</view>
              <view class="level-text">L1-L8</view>
            </view>
            <view class="activity-venue">
              <wd-img width="8vm" height="8vm" src="/static/images/venue/venue1.png"></wd-img>
              <text>è±ªåŸè¿åŠ¨ç¾½æ¯›çƒäº¤æµä¸­å¿ƒ</text>
            </view>
            <view class="signup-button">
              å»æŠ¥å
            </view>
          </view>
        </view>
      </wd-card>

      <!-- æ´»åŠ¨é¡¹ç›®2 -->
      <wd-card custom-class="activity-card">
        <view class="activity-item">
          <view class="activity-title">ç¾½å—¨ä¿±ä¹éƒ¨-å®é¾™æè‡´é¦†</view>
          <view class="activity-info">
            <view class="activity-location">
              <wd-icon name="location" size="3.5vm" color="#999"></wd-icon>
              <text>å¨å…‹å¤šÂ·æè‡´ç¾½æ¯›çƒé¦†(å®åŒ–åœ°é“åº—)</text>
              <text class="activity-distance">| 3.4km</text>
            </view>
            <view class="activity-time">
              <wd-icon name="clock" size="3.5vm" color="#999"></wd-icon>
              <text>04æœˆ20æ—¥ å‘¨æ—¥ 07:00-10:00</text>
            </view>
          </view>
          <view class="activity-footer">
            <view class="avatar-list">
              <view class="avatar-item" v-for="n in 5" :key="n">
                <wd-img width="6.5vm" height="6.5vm" round :src="`/static/images/avatar${n}.png`"></wd-img>
              </view>
              <view class="avatar-more">...</view>
            </view>
            <view class="activity-status">
              <view class="status-text">æŠ¥åä¸­ 11/42</view>
              <view class="level-text">L1-L8</view>
            </view>
            <view class="activity-venue">
              <wd-img width="8vm" height="8vm" src="/static/images/venue/venue2.png"></wd-img>
              <view class="price-tag">
                <text>Â¥</text>
                <view class="price-icon">
                  <wd-icon name="cart" size="3.5vm" color="#fff"></wd-icon>
                </view>
                <text>é—ªè´­ç‰¹æƒ </text>
              </view>
            </view>
            <view class="signup-button">
              å»æŠ¥å
            </view>
          </view>
        </view>
      </wd-card>
    </view>

    <!-- åº•éƒ¨å ä½ -->
    <view class="tabbar-placeholder"></view>
  </view>
</template>

<script setup lang="ts">
import { ref, reactive } from 'vue';

// é¡µé¢é€»è¾‘å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ 
</script>

<style lang="scss" scoped>
/* æ‰€æœ‰å°ºå¯¸éƒ½ä½¿ç”¨vmå•ä½ */
.flash-container {
  padding: 0 3vm;
  background-color: #f5f5f5;
  min-height: 100vh;
}

/* é¡¶éƒ¨å¹¿å‘Šæ¨ªå¹… */
.banner {
  margin-top: 3vm;
  display: flex;
  background: linear-gradient(135deg, #ffd500, #75f7ff);
  border-radius: 3vm;
  padding: 3vm;
  margin-bottom: 3vm;
  position: relative;
  overflow: hidden;

  .banner-left {
    flex: 3;
    
    .banner-title {
      position: relative;
      margin-bottom: 2vm;
      
      .title-main {
        font-size: 5.5vm;
        font-weight: bold;
        color: #000;
        line-height: 1.2;
        display: block;
      }
      
      .title-sub {
        font-size: 5.5vm;
        font-weight: bold;
        color: #28ce26;
        line-height: 1.2;
        display: block;
      }

      .banner-eyes {
        position: absolute;
        top: 1vm;
        right: 20%;
        
        .eyes-img {
          width: 6vm;
        }
      }
    }
    
    .banner-desc {
      font-size: 3vm;
      color: #333;
      margin-bottom: 2vm;
    }
  }
  
  .banner-right {
    flex: 2;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    
    .right-item {
      background-color: rgba(255, 255, 255, 0.7);
      padding: 1vm 2vm;
      border-radius: 1vm;
      font-size: 2.6vm;
      margin-bottom: 1vm;
      color: #333;
    }
  }
}

/* æœç´¢æ¡† */
.search-box {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 3vm;
  
  .search-input {
    display: flex;
    align-items: center;
    background-color: #f0f0f0;
    padding: 2vm 3vm;
    border-radius: 6vm;
    flex: 1;
    
    .search-placeholder {
      color: #999;
      margin-left: 1vm;
      font-size: 3.2vm;
    }
  }
  
  .search-button {
    background-color: #333;
    color: #fff;
    font-size: 2.8vm;
    padding: 1.5vm 2.5vm;
    border-radius: 6vm;
    margin: 0 2vm;
  }
  
  .promote-button {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f24949;
    padding: 1.5vm 2.5vm;
    border-radius: 6vm;
    
    text {
      color: #fff;
      margin-left: 1vm;
      font-size: 2.8vm;
    }
  }
}

/* è¿åŠ¨åˆ†ç±» */
.category-scroll {
  white-space: nowrap;
  margin-bottom: 3vm;
  
  .category-list {
    display: flex;
    padding: 1vm 0;
    
    .category-item {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      margin-right: 6vm;
      
      &.active {
        .category-text {
          color: #00cdff;
          font-weight: bold;
        }
        
        .category-icon {
          position: relative;
          
          &::after {
            content: '';
            position: absolute;
            bottom: -1vm;
            left: 50%;
            transform: translateX(-50%);
            width: 5vm;
            height: 0.5vm;
            background-color: #00cdff;
            border-radius: 0.5vm;
          }
        }
      }
      
      .category-icon {
        font-size: 5vm;
        margin-bottom: 1vm;
      }
      
      .category-text {
        font-size: 3vm;
        color: #666;
      }
    }
  }
}

/* æ—¥æœŸé€‰æ‹© */
.date-scroll {
  margin-bottom: 2vm;
  background-color: #fff;
  padding: 2vm 0;
  border-radius: 2vm;
  
  .date-list {
    .date-header {
      display: flex;
      justify-content: space-around;
      margin-bottom: 1vm;
      
      .date-day {
        font-size: 2.8vm;
        color: #666;
        width: 12vm;
        text-align: center;
      }
    }
    
    .date-numbers {
      display: flex;
      justify-content: space-around;
      
      .date-item {
        width: 8vm;
        height: 8vm;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 3.2vm;
        color: #333;
        
        &.active {
          background-color: #00cdff;
          color: #fff;
        }
      }
    }
  }
}

/* ç­›é€‰æ¡ä»¶ */
.filter-bar {
  display: flex;
  align-items: center;
  padding: 2vm 0;
  margin-bottom: 2vm;
  
  .filter-item {
    display: flex;
    align-items: center;
    margin-right: 4vm;
    font-size: 3vm;
    color: #666;
    
    text {
      margin-right: 1vm;
    }
  }
}

/* æ´»åŠ¨åˆ—è¡¨ */
.activity-list {
  margin-bottom: 20vm;
  
  :deep(.activity-card) {
    margin-bottom: 3vm;
    border-radius: 3vm !important;
    overflow: hidden;
  }
  
  .activity-item {
    .activity-title {
      font-size: 4vm;
      font-weight: 600;
      color: #333;
      margin-bottom: 2vm;
    }
    
    .activity-info {
      margin-bottom: 2vm;
      
      .activity-location, .activity-time {
        display: flex;
        align-items: center;
        margin-bottom: 1vm;
        font-size: 3vm;
        color: #666;
        
        text {
          margin-left: 1vm;
        }
        
        .activity-distance {
          color: #999;
          margin-left: 1vm;
        }
      }
    }
    
    .activity-footer {
      display: flex;
      flex-direction: column;
      
      .avatar-list {
        display: flex;
        align-items: center;
        margin-bottom: 2vm;
        
        .avatar-item {
          margin-right: -1.5vm;
          border: 0.2vm solid #fff;
          border-radius: 50%;
        }
        
        .avatar-more {
          width: 6.5vm;
          height: 6.5vm;
          background-color: #f0f0f0;
          color: #999;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          margin-left: 2vm;
          font-size: 3vm;
        }
      }
      
      .activity-status {
        display: flex;
        justify-content: space-between;
        margin-bottom: 2vm;
        
        .status-text {
          color: #00cdff;
          font-size: 3vm;
        }
        
        .level-text {
          color: #00cdff;
          font-size: 3vm;
        }
      }
      
      .activity-venue {
        display: flex;
        align-items: center;
        margin-bottom: 2vm;
        
        text {
          margin-left: 2vm;
          font-size: 3vm;
          color: #666;
        }
        
        .price-tag {
          margin-left: 2vm;
          display: flex;
          align-items: center;
          color: #ff5722;
          font-size: 3vm;
          
          .price-icon {
            background-color: #ff5722;
            border-radius: 1vm;
            margin: 0 0.5vm;
          }
        }
      }
      
      .signup-button {
        align-self: flex-end;
        background-color: #00cdff;
        color: #fff;
        font-size: 3.2vm;
        padding: 1.5vm 5vm;
        border-radius: 6vm;
      }
    }
  }
}

/* åº•éƒ¨å ä½ */
.tabbar-placeholder {
  height: 13vm;
}
</style>
